<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Aim Testi</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    background: #222;
    font-family: Arial, sans-serif;
    color: white;
  }

  #counter {
    position: fixed;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 20px;
    z-index: 5;
    background: rgba(0,0,0,0.6);
    padding: 10px 20px;
    border-radius: 10px;
    display: flex;
    gap: 30px;
  }

  #welcome-screen {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
  }

  #welcome-screen h1 {
    margin-bottom: 20px;
  }

  button {
    font-size: 18px;
    padding: 10px 25px;
    margin: 0 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    user-select: none;
  }

  #yes-btn {
    background-color: #28a745;
    color: white;
    transition: background-color 0.3s ease;
  }

  #yes-btn:hover {
    background-color: #218838;
  }

  #no-btn {
    background-color: #6c757d;
    color: white;
    cursor: not-allowed;
  }

  #silhouette {
    position: absolute;
    width: 80px;
    height: 80px;
    background: url('https://static.vecteezy.com/system/resources/thumbnails/018/887/506/small_2x/shapes-vintage-labels-png.png') no-repeat center center / contain;
    pointer-events: auto;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="welcome-screen">
  <h1>Aim testini başlatmak ister misin?</h1>
  <div>
    <button id="yes-btn">Evet</button>
    <button id="no-btn" disabled>Hayır</button>
  </div>
</div>

<div id="counter">
  <div>✅ Doğru: <span id="correct">0</span></div>
  <div>❌ Yanlış: <span id="wrong">0</span></div>
</div>

<div id="silhouette" style="display:none;"></div>

<script>
  const welcomeScreen = document.getElementById('welcome-screen');
  const yesBtn = document.getElementById('yes-btn');
  const silhouette = document.getElementById('silhouette');

  const correctSpan = document.getElementById('correct');
  const wrongSpan = document.getElementById('wrong');
  let correctCount = 0;
  let wrongCount = -1;

  let posX = Math.random() * (window.innerWidth - 80);
  let posY = Math.random() * (window.innerHeight - 80);
  let velX = 0;
  let velY = 0;
  let moveStarted = false;
  let clickCount = 0;

  silhouette.style.left = posX + 'px';
  silhouette.style.top = posY + 'px';

  yesBtn.addEventListener('click', () => {
    welcomeScreen.style.display = 'none';
    silhouette.style.display = 'block';
  });

  function randomVelocity(speed) {
    const dirX = Math.random() < 0.5 ? -1 : 1;
    const dirY = Math.random() < 0.5 ? -1 : 1;
    return {
      x: speed * dirX,
      y: speed * dirY
    };
  }

  silhouette.addEventListener('click', (e) => {
    e.stopPropagation(); // Sayfaya tıklama olarak sayma
    correctCount++;
    correctSpan.textContent = correctCount;

    clickCount++;

    if (clickCount % 10 === 0) {
      if (!moveStarted) {
        moveStarted = true;
        const velocity = randomVelocity(1);
        velX = velocity.x;
        velY = velocity.y;
        moveSilhouette();
      } else {
        velX *= 1.2;
        velY *= 1.2;
      }
    }

    posX = Math.random() * (window.innerWidth - 80);
    posY = Math.random() * (window.innerHeight - 80);
    silhouette.style.left = posX + 'px';
    silhouette.style.top = posY + 'px';
  });

  function moveSilhouette() {
    function move() {
      if (!moveStarted) return;

      posX += velX;
      posY += velY;

      if (posX <= 0 || posX >= window.innerWidth - 80) velX = -velX;
      if (posY <= 0 || posY >= window.innerHeight - 80) velY = -velY;

      silhouette.style.left = posX + 'px';
      silhouette.style.top = posY + 'px';

      requestAnimationFrame(move);
    }
    move();
  }

  // Yanlış tıklamaları say
  document.body.addEventListener('click', () => {
    if (welcomeScreen.style.display === 'none') {
      wrongCount++;
      wrongSpan.textContent = wrongCount;
    }
  });

  window.addEventListener('resize', () => {
    if (posX > window.innerWidth - 80) posX = window.innerWidth - 80;
    if (posY > window.innerHeight - 80) posY = window.innerHeight - 80;
    silhouette.style.left = posX + 'px';
    silhouette.style.top = posY + 'px';
  });
</script>

</body>
</html>
